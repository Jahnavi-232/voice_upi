<!DOCTYPE html>
<html>
<body>

<h3>Register</h3>

<form action="/register_user" method="POST">
    <input name="name" placeholder="Name"><br><br>
    <input name="email" placeholder="Email"><br><br>

    <video id="video" width="300" autoplay></video><br>
    <canvas id="canvas" style="display:none;"></canvas>

    <button type="button" onclick="capture()">Capture Face</button><br><br>

    <input type="hidden" name="face" id="face">

    <button type="submit">Register</button>
</form>

<script>
navigator.mediaDevices.getUserMedia({ video: true })
.then(stream => {
    document.getElementById('video').srcObject = stream;
});

function capture(){
    var canvas = document.getElementById('canvas');
    var video = document.getElementById('video');

    canvas.width = 300;
    canvas.height = 300;

    canvas.getContext('2d').drawImage(video, 0, 0, 300, 300);

    document.getElementById("face").value =
        canvas.toDataURL("image/jpeg", 0.6);

    alert("Face Captured Successfully");
}
</script>

</body>
</html>